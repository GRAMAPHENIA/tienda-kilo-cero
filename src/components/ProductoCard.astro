---
export interface Props {
	producto: {
		id: number;
		nombre: string;
		descripcion: string;
		precio: number;
		imagen: string;
	};
}

const { producto } = Astro.props;
---

<article class="group cursor-pointer border border-header-text/10 hover:border-primary/20 transition-colors duration-300">
	<div class="aspect-square overflow-hidden mb-8">
		<img src={producto.imagen} alt={producto.nombre} class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105 bg-primary" />
	</div>
	<div class="space-y-4 p-4">
		<div class="flex justify-between items-start">
			<h3 class="text-xl font-light text-header-text tracking-wide group-hover:text-primary transition-colors duration-300">{producto.nombre}</h3>
			<button id={`fav-${producto.id}`} class="text-header-text hover:text-[#EC0B43] transition-colors duration-300 opacity-0 group-hover:opacity-100" onclick={`toggleFavorite(${producto.id})`}>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"/></svg>
			</button>
		</div>
		<p class="text-header-text/60 text-sm leading-relaxed">{producto.descripcion}</p>
		<div class="flex justify-between items-center pt-4">
			<span class="text-primary font-semibold text-xl">${producto.precio}</span>
			<button onclick={`addToCart(${producto.id}, '${producto.nombre}', ${producto.precio}, '${producto.imagen}')`} class="bg-primary text-primary-text px-6 py-3 font-light tracking-wider hover:bg-secondary transition-all duration-500 ease-out text-sm">
				Agregar
			</button>
		</div>
	</div>
</article>
